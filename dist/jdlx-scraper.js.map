{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 84ea263e3b8b77359ffb","webpack:///./src/jdlx-scraper.js","webpack:///./src/Scraper.js","webpack:///./src/Runner.js","webpack:///./src/Parsers.js","webpack:///./src/JsonExtractor.js"],"names":["scraper","registerParser","toText","toNumber","toCurrency","trim","match","toAbsolute","registerExtractor","Scraper","parsers","extractors","name","parser","override","extractor","definition","document","context","runner","create","scrape","Runner","parseNode","node","query","Array","isArray","length","$each","parseCollection","$q","parseField","parseMembers","data","key","def","Object","assign","collection","cq","forEach","push","queries","val","i","$val","$m","runMacros","value","macros","macro","Parsers","result","replace","link","indexOf","protocol","rel","base","m","ammount","symbol","String","Number","options","reg","regexp","group","res","queryPath","path","split","elem","shift"],"mappings":"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","file":"jdlx-scraper.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jdlx-scraper\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jdlx-scraper\"] = factory();\n\telse\n\t\troot[\"jdlx-scraper\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 84ea263e3b8b77359ffb","\n/**\n * Scrapes information from provided document using scrape definitions\n * The point is to create reusable scrape definitions that can be re-used\n * in different scenarios\n *\n * @module Scraper\n */\n\nimport Scraper from \"./Scraper.js\";\nimport Parsers from \"./Parsers.js\";\nimport JSON from \"./JsonExtractor.js\";\n\n\nvar scraper = new Scraper();\nscraper.registerParser(\"toText\", Parsers.toText);\nscraper.registerParser(\"toNumber\", Parsers.toNumber);\nscraper.registerParser(\"toCurrency\", Parsers.toCurrency);\nscraper.registerParser(\"trim\", Parsers.trim);\nscraper.registerParser(\"match\", Parsers.match);\nscraper.registerParser(\"toAbsolute\", Parsers.toAbsolute);\n\nscraper.registerExtractor(\"json\", JSON);\n\nexport default scraper;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/jdlx-scraper.js","import Runner from \"./Runner.js\";\n\nexport default class Scraper\n{\n    constructor(){\n        this.parsers = {};\n        this.extractors = {};    \n    }\n    \n    /**\n     * Register a names parser, that can be referenced from the scrape definition.\n     * A parser function will be given three paramers, the value, options and the\n     * context.\n     * \n     * @param {string} name\n     * @param {function} parser\n     * @param {boolean} override\n     * @returns {void}\n     */\n    registerParser(name, parser, override)\n    {\n        override = override||false;\n        if(this.parsers[name] && !override)\n        {\n            throw(\"Parser \"+name+\" already exists\");\n        }\n        \n        this.parsers[name] = parser; \n    }\n    \n    /**\n     * Set an extractor. The extractor determines how to traverse and extract\n     * nodes from a document.\n     * \n     * @param {string} name\n     * @param {function} extractor\n     * @param {boolean} override\n     * @returns {void}\n     */\n    registerExtractor(name, extractor, override)\n    {\n        \n        override = override||false;\n        if(this.extractors[name] && !override)\n        {\n            throw(\"Extractor \" + name + \" already exists\");\n        }\n        \n        this.extractors[name] = extractor; \n    }\n    \n    /**\n     * \n     * @param {object} definition\n     * @param {string} extractor\n     * @param {object} document\n     * @param {object} context\n     * @returns {object}\n     */\n    scrape(definition, extractor, document, context)\n    {\n        var runner = this.create(definition, extractor);\n        return runner.scrape(document, context);\n    }\n    \n    /**\n     * Create a scraper that can be reused with different documents but retains\n     * the same definition.\n     * \n     * @param {Object} definition\n     * @param {string} extractor\n     * @returns {Runner}\n     */\n    create(definition, extractor)\n    {\n        if(!definition)\n        {\n            throw (\"Definition is not provided!\");\n        }\n        \n        if(!this.extractors[extractor])\n        {\n            throw (\"Extractor \" + name + \" doesn't exists or is not registered\");\n        }\n        \n        return new Runner(definition, this.parsers, this.extractors[extractor]);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Scraper.js","\n/**\n * Scrapes information from provided document using scrape definitions\n * The point is to create reusable scrape definitions that can be re-used\n * in different scenarios\n *\n * @module Scraper\n */\n\nexport default class Runner\n{\n\n        /**\n         * Create an scraper, this method can never\n         * be called directly, as contains no detailed\n         * instructions on how to retrieve data from a\n         * document.\n         *\n         * The class needs to be extended to support it.\n         *\n         * @param {Object} definition\n         * @param {Object} parsers\n         * @param {Function} extractor\n         */\n        constructor(definition, parsers, extractor)\n        {\n            this.definition = definition;\n            this.parsers = parsers;\n            this.extractor = extractor;\n        }\n\n        /**\n         * Scrape the provided document\n         *\n         * @param {type} document\n         * @returns {Array|.Parser.prototype.parseNode.collection|undefined}\n         */\n        scrape(document, context)\n        {\n            //set context to default object\n            context = context || {};\n            return this.parseNode(document, this.definition, context);\n        };\n\n        parseNode(node, query, context)\n        {\n            //since all queries are repeatable, surround with array\n            if (!Array.isArray(query))\n            {\n                query = [query];\n            } \n            \n            //See what we have to do\n            if( query.length === 0){ return []; } //empty array\n            else if( query[0].$each )\n            { \n                return this.parseCollection(node, query[0], context); \n            }\n            else if( query[0].$q )      \n            { \n                return this.parseField(node, query, context); \n            }\n            else{//parse keys\n                return this.parseMembers(node, query[0], context);\n            }\n        }\n        \n        parseMembers(node, definition)\n        {\n             var data = {};\n                for (let key in definition)\n                {\n                    data[key] = this.parseNode(node, definition[key]);\n                }\n\n                return data;\n        }\n        \n        parseCollection (node, definition)\n        {\n            //rely on an error from system in case setup is incorrect\n                var def = Object.assign({}, definition);\n                \n                //we will collect an array of results\n                var collection = [];\n\n                var cq = def.$each;\n                delete def.$each;\n                \n                //make it into an array\n                if (!Array.isArray(cq)) {\n                    cq = [cq];\n                }\n\n                this.extractor(node, cq)\n                    .forEach((node) => {\n                        collection.push(this.parseNode(node, def));\n                    }, this);\n                return collection;\n        };\n\n        parseField(node, queries)\n        {\n            var val = null;\n            for (var i = 0; i < queries.length; i++) {\n                let def = queries[i];\n \n                //Skip, empty\n                if (!def)   { return \"\"; }\n                //return a fixed value\n                if (def.$val){ return def.$val;}\n\n                //Query the node\n                val = node;\n                if (def.$q)\n                {\n                    val = this.extractor(node, def.$q);\n                }\n\n                //Get the atribute and process it\n                if (def.$m){ \n                    val = this.runMacros(val, def.$m); \n                }\n\n                //break the loop, we have a value\n                break;\n            }\n\n            return val;\n        };\n\n        runMacros(value, macros)\n        {   \n            //format macro to uniform format\n            if (!Array.isArray(macros))\n            {\n                macros = [macros];\n            }\n\n            macros.forEach(function (macro) {\n                if (typeof macro === \"string\")\n                {\n                    value = this.parsers[macro](value);\n                } else {\n                    for (let name in macro)\n                    {\n                        value = this.parsers[name](value, macro[name]);\n                    }\n                }\n            }, this);\n\n            return value;\n        };\n    }\n    \n    \n    \n    export {Runner};\n\n\n// WEBPACK FOOTER //\n// ./src/Runner.js","export default class Parsers {\n    /**\n     * Remove all exccess space, tabs and newlines\n     *\n     * @param {string} original\n     * @returns {string}\n     */\n    static trim(val)\n    {\n        //first strip away tabs and spaces\n        var result = val;\n        result = result.replace(/\\t|\\n/g, \"\");\n\n        //then strip away double spaces\n        result = result.replace(/[ ]{2,}/g, \" \");\n        \n        //strip away leading spaces\n        return result .trim();\n    }\n\n    /**\n     *  Make a link absolute compared to provided pageUrl\n     *\n     *  @param {string} pageUrl\n     *  @param {string} link\n     *  @returns {string}\n     */\n    static toAbsolute(val, link) {\n\n        //already absolute\n        if (link.indexOf(\"http\") === 0) {\n            return link;\n        }\n\n        //relative to base\n        var protocol = val.match(/^https?/)[0];\n        var rel = val.match(/^(https?:\\/\\/[\\S]*)\\//)[0];\n        var base = val.match(/^(https?:\\/\\/[\\S]*?)\\//)[1];\n\n        if (link.indexOf(\"data\") === 0) { //data:link\n            return link;\n        }\n\n        if (link.indexOf(\"//\") === 0) { //protocol fix\n            return protocol + \":\" + link;\n        } else if (link.indexOf(\"/\") === 0) {\n            return base + link;\n        } else //relative to cart\n        {\n            return rel + link;\n        }\n    }\n\n    static toCurrency(val)\n    {\n        //first retreive the ammount\n        var m = val.match(/[0-9,]+[. ]?[0-9]*/);\n        var ammount = m[0].trim().replace(\" \", \".\").replace(\",\", \"\");\n\n        //now strip the symbol\n        var symbol = val.replace(m[0], \"\").trim();\n\n        return {\n            'symbol': symbol,\n            'ammount': ammount\n        };\n    }\n\n    // Common type cleaners\n    //--------------------------------------\n\n    /**\n     * Retrieves text from a DomNode's innertext and \n     * returns it as text. Use optional variable trim to\n     * trim to further trim the output.\n     * \n     * @param {DomElement|Stromg} element\n     * @param {Boolean} trim\n     * @returns {String}\n     */\n    /**\n     * Gets innerText and trims it's output\n     *\n     * @param {DomNode} elem\n     * @returns {String}\n     */\n    static toText(val)\n    {\n        return String(val);\n    }\n\n    /**\n     * Trims innerText and parses it as a number\n     *\n     * @param {DomNode} elem\n     * @returns {Number}\n     */\n    static toNumber(val)\n    {\n        return Number(val);\n    }\n\n\n    /**\n     * Match the value against\n     */\n    static match(val, options)\n    {\n        var reg = options.regexp;\n        var group = options.group || 0;\n\n        var res = val.match(reg);\n        if (res && res[group])\n        {\n            return res[group];\n        }\n        return \"0\";\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Parsers.js","export default queryPath;\n    \nfunction queryPath (node, path)\n        {\n            if (path && !Array.isArray(path))\n            {\n                path = path.split(\".\");\n            }\n\n            if (path.length === 0)\n            {\n                return node;\n            }\n\n            var elem = path.shift();\n            return queryPath(node[elem], path);\n        };\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/JsonExtractor.js"],"sourceRoot":""}